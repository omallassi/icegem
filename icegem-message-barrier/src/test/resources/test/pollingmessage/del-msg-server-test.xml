<?xml version="1.0"?>
<!DOCTYPE cache PUBLIC
    "-//GemStone Systems, Inc.//GemFire Declarative Caching 6.5//EN"
    "http://www.gemstone.com/dtd/cache6_5.dtd">
<cache is-server="true">
    <cache-server port="40401"/>
    <region name="trades">
        <region-attributes data-policy="partition"/>
    </region>
    <region name="msgs">
        <region-attributes  data-policy="partition" statistics-enabled="true">
            <entry-idle-time>
                <expiration-attributes timeout="60" action="invalidate"/>
            </entry-idle-time>
            <cache-listener>
                <class-name>com.googlecode.icegem.message.barrier.core.plugins.ServerPeerMessageRegionListener</class-name>
                <parameter name="expiredMessageRegionName">
                    <string>expired-msgs</string>
                </parameter>
            </cache-listener>
        </region-attributes>
    </region>
    <region name="lock-expired-msgs">
        <region-attributes data-policy="replicate" scope="global"/>
    </region>
    <region name="expired-msgs">
        <region-attributes data-policy="partition"/>
    </region>
    <function-service>
        <function>
            <class-name>com.googlecode.icegem.message.barrier.core.ExpiredMessageCollectorFunction</class-name>
        </function>
        <function>
            <class-name>com.googlecode.icegem.message.barrier.core.TouchEntryFunction</class-name>
        </function>
    </function-service>
</cache>
