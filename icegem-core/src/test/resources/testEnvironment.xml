<?xml version="1.0"?>
<!--<project name="star-stop-gemfire-test-environment" basedir="${project.basedir}">-->
<project name="star-stop-gemfire-test-environment">
    <property name="locator.base.directory" value="${project.build.directory}/locator"/>
    <property name="agent.base.directory" value="${project.build.directory}/agent"/>

    <!--Set of targets for starting GemFire test environment-->
    <target name="start-gemfire-test-environment" depends="start-locator, start-agent">
    </target>

    <target name="start-locator" depends="copy-scripts">
        <exec osfamily="windows" dir="${project.build.directory}" executable="${project.build.directory}/start-locator.bat"/>
        <exec osfamily="mac" dir="${project.build.directory}" executable="${project.build.directory}/start-locator.sh"/>
        <exec osfamily="unix" dir="${project.build.directory}" executable="${project.build.directory}/start-locator.sh"/>
    </target>

    <target name="start-agent" depends="copy-scripts, copy-agent-properties-file">
        <exec osfamily="windows" dir="${project.build.directory}" executable="${project.build.directory}/start-agent.bat"/>
        <exec osfamily="mac" dir="${project.build.directory}" executable="${project.build.directory}/start-agent.sh"/>
        <exec osfamily="unix" dir="${project.build.directory}" executable="${project.build.directory}/start-agent.sh"/>
    </target>

    <target name="copy-scripts" depends="create-base-directories">
        <copy todir="${project.build.directory}">
            <fileset dir="${project.build.testSourceDirectory}/../scripts"/>
        </copy>
    </target>

    <target name="copy-agent-properties-file" depends="create-base-directories">
        <copy file="${project.build.testSourceDirectory}/../resources/agent.properties" todir="${agent.base.directory}"/>
    </target>

    <target name="create-base-directories">
        <mkdir dir="${locator.base.directory}"/>
        <mkdir dir="${agent.base.directory}"/>
    </target>

    <!--Set of targets for stopping GemFire test environment-->
    <target name="stop-gemfire-test-environment" depends="stop-agent, stop-locator">
    </target>

    <target name="stop-locator" depends="copy-scripts">
        <exec osfamily="windows" dir="${project.build.directory}" executable="${project.build.directory}/stop-locator.bat"/>
        <exec osfamily="mac" dir="${project.build.directory}" executable="${project.build.directory}/stop-locator.sh"/>
        <exec osfamily="unix" dir="${project.build.directory}" executable="${project.build.directory}/stop-locator.sh"/>
    </target>

    <target name="stop-agent" depends="copy-scripts, copy-agent-properties-file">
        <exec osfamily="windows" dir="${project.build.directory}" executable="${project.build.directory}/stop-agent.bat"/>
        <exec osfamily="mac" dir="${project.build.directory}" executable="${project.build.directory}/stop-agent.sh"/>
        <exec osfamily="unix" dir="${project.build.directory}" executable="${project.build.directory}/stop-agent.sh"/>
    </target>
</project>